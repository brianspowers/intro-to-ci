import { themes } from 'mdx-deck'
export const theme = themes.future;

# Intro to Build Systems

--- 
## Agenda

<Steps>

* Continuous Integration / Continuous Delivery
  * Background Information
  * Essential Elements
  * Other Useful Tools

* Case Studies
  * Wedgekit
  * Hudl's Microservice Architecture

</Steps>

--- 

# Continuous Integration

## What is CI?  

<Notes>
  The practice of automating the integration of code changes from multiple contributors into a single software project.  
</Notes>

--- 

# Continuous Delivery

* ### What is it?
* ### How does it differ from CI?

<Notes>

The ability to get changes of all types—including new features, configuration changes, bug fixes and experiments—into production, or into the hands of users, safely and quickly in a sustainable way.

</Notes>

---

## What about Continuous Deployment?

<Notes>

Automation.  Continuous Delivery ensures that the software *could* be deployed at any time.  Continuous Deployment automates the process.

</Notes>

---

# Why do these things?

<Steps>

* Speed
* Scaling
* Quality

</Steps>

<Notes>

* Speed
  * Codebase deployable at all times
  * Move fast while still ensuring quality
* Scaling
  * Processes in place allow work in isolation.  Parallel development.
* Quality
  * Faster feedback loop, bugs identified quickly.
  * Communication improved - PRs, etc.

</Notes>

--- 

> "Continuous Integration doesn't get rid of bugs, but it does make them dramatically easier to find and remove." -Martin Fowler

---

#	Essentials

<Steps>

- Version Control
- Build Automation
- Automated Testing

</Steps>

---

# Additional Features

<Steps>

- Code Review
- Unit, Integration, & Acceptance Testing
- Static Analysis

</Steps>

---

# Tools and Services

--- 

# Build Servers

<Steps>

- Cruise Control
- Hudson / Jenkins
- Bamboo
- TeamCity
- Team Foundation Server (Azure DevOps Server)

</Steps>

<Notes>

* Software applications that you install and maintain  
* Benefits: Keeping all code in-house  
* Disadvantages: Maintenance  

</Notes>

---

# CI Service Providers

<Steps>

- CircleCI
- TravisCI
- Azure Pipelines / DevOps Services
- Github Actions
- Amazon AWS Code(Build | Deploy | Pipeline)
- CloudBees

</Steps>

---

# Questions?

<Notes>

- Next up are case studies so any questions about the general concept stuff?

</Notes>

---

# Case Studies

---

# Case Study #1
## Wedgekit at DMSi

---

# Version Control

<Steps>

- Git
- Atlassian Bitbucket
- Git Flow

</Steps>

---

## The Monorepo

* 47 Front-end javascript libraries
* 2 Web applications
* 3 utility applications

All living in the same git repository.

<Notes>

* Shared dependencies
* Test the latest versions of all our software together.

</Notes>

---

## The Monorepo

We have tools to help us manage everything under one roof.

<Steps>

* Yarn Workspaces
* Lerna

</Steps>

---

# Building and Testing

<Steps>

- ESBuild
- AVA
- Codecov
- Flow/Typescript
- Wedgecop

</Steps>

--- 

# CircleCI

## \<Screenshot\>

---

# "Template Fiddle"

## \<Screenshot\>

<Notes>

* For now, serves as our acceptance testing.
* Integrates all the code that we maintain

</Notes>

---

# Publishing

<Notes>

* Manual publishing, would like to get to continuous deployment.

</Notes>

---

# Questions?

---

# Case Study #2
## Microservice Development at Hudl

---

# Testing Branches in Isolation

--- 

# Alyx3

<Steps>

* In-house tool built to manage deploying code.
* Ties together Teamcity, Eureka, Github, Amazon SNS, Route53, and Outpost

</Steps>

---

# Testing a Branch

<Steps>

* Branch deployed to test server
* Testing happens on a single feature
* Quality Analyst merges the feature and deploys to production
* Test branch cleaned up

</Steps>

---

# Blue-Green Deployment

<Steps>

* 2 Sets of servers behind a router.
* Deploy attempted to inactive set.
* Automated health checks
* Router to points to new application

</Steps>

<Notes>

* The router is Nginx
* At Hudl, both the "blue" and the "green" servers were actually part of the same server, the switching was done with application ports.

</Notes>

---

# Blue-Green Deployment

<Steps>

* Allows deployment with little-to-no downtime
* Deploy failures don't take the system down
* Complicated unless all systems participate

</Steps>

---

# Fin